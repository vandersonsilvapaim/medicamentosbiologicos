(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"xP/L":function(e,i,a){"use strict";a.r(i),a.d(i,"DispensacaoModule",(function(){return E}));var t=a("tyNb"),o=a("LRne"),n=a("t1wC"),r=a("J3qu"),d=a("VTKa"),l=a("dMsE"),s=a("fXoL"),c=a("2ChS"),m=a("NFeN"),b=a("Rv7U"),u=a("3Pt+"),p=a("wRzG"),f=a("ofXK"),h=a("bTqV"),v=a("Qu3c"),g=a("LpNs"),_=a("pxjv"),T=a("kmnG"),S=a("qFsG");function y(e,i){1&e&&(s.Tb(0,"mat-error",21),s.Cc(1,"Lote obrigatoria"),s.Sb())}function q(e,i){1&e&&(s.Tb(0,"mat-error",21),s.Cc(1,"Validade obrigatoria"),s.Sb())}function w(e,i){1&e&&(s.Tb(0,"mat-error",21),s.Cc(1,"Lote obrigatoria"),s.Sb())}function C(e,i){if(1&e){const e=s.Ub();s.Tb(0,"div",8),s.Tb(1,"mat-form-field",22),s.Tb(2,"mat-label"),s.Cc(3,"Justificativa para a troca"),s.Sb(),s.Ob(4,"input",23),s.Bc(5,w,2,0,"mat-error",17),s.Sb(),s.Tb(6,"medicamento",24),s.ac("action",(function(i){return s.uc(e),s.ec(2).set_medicamento(i)})),s.Sb(),s.Sb()}if(2&e){var a;const e=null==(a=s.ec(2).fb.get("justificativa"))?null:a.invalid;s.Bb(5),s.jc("ngIf",e)}}function R(e,i){if(1&e){const e=s.Ub();s.Tb(0,"form",5),s.Tb(1,"div",6),s.Tb(2,"div",7),s.Tb(3,"div",8),s.Ob(4,"paciente-medico",9),s.Sb(),s.Tb(5,"div",8),s.Tb(6,"h2",10),s.Cc(7," Prescri\xe7\xe3o "),s.Sb(),s.Ob(8,"medicamento",11),s.Sb(),s.Tb(9,"div",8),s.Tb(10,"p"),s.Cc(11),s.Tb(12,"span",12),s.Tb(13,"button",13),s.ac("click",(function(){return s.uc(e),s.ec().fb.get("disponivel").setValue(!0)})),s.Cc(14,"Sim"),s.Sb(),s.Tb(15,"button",14),s.ac("click",(function(){return s.uc(e),s.ec().fb.get("disponivel").setValue(!1)})),s.Cc(16,"N\xe3o"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(17,"div",8),s.Tb(18,"div",8),s.Tb(19,"h2",10),s.Cc(20," Controle da dispensa\xe7\xe3o "),s.Sb(),s.Sb(),s.Tb(21,"mat-form-field",15),s.Tb(22,"mat-label"),s.Cc(23,"Lote"),s.Sb(),s.Ob(24,"input",16),s.Bc(25,y,2,0,"mat-error",17),s.Sb(),s.Tb(26,"mat-form-field",18),s.Tb(27,"mat-label"),s.Cc(28,"Validade"),s.Sb(),s.Ob(29,"input",19),s.Bc(30,q,2,0,"mat-error",17),s.Sb(),s.Sb(),s.Bc(31,C,7,1,"div",20),s.Sb(),s.Sb(),s.Sb()}if(2&e){const e=s.ec();var a;const i=null==(a=e.fb.get("lote"))?null:a.invalid;var t;const o=null==(t=e.fb.get("validade"))?null:t.invalid;s.jc("formGroup",e.fb),s.Bb(4),s.jc("paciente",e._paciente_medico),s.Bb(4),s.jc("medicamento",e.medicamento_input),s.Bb(3),s.Ec("Dispon\xedvel para dispensa\xe7\xe3o? ",e.fb.value.disponivel?"Sim":"N\xe3o",""),s.Bb(14),s.jc("ngIf",i),s.Bb(5),s.jc("ngIf",o),s.Bb(1),s.jc("ngIf",!e.fb.value.disponivel)}}function I(e,i){if(1&e){const e=s.Ub();s.Tb(0,"button",25),s.ac("click",(function(){return s.uc(e),s.ec().back_stepper()})),s.Tb(1,"mat-icon"),s.Cc(2,"arrow_back"),s.Sb(),s.Tb(3,"strong"),s.Cc(4,"Voltar"),s.Sb(),s.Sb()}}let k=(()=>{class e{constructor(e,i,a,t){this.log=e,this.router=i,this.service=a,this.alert=t,this.isLive=!1,this.action=new s.o,this.fb=new u.h({}),this.fb.addControl("disponivel",new u.e(!0,u.u.required)),this.fb.addControl("lote",new u.e("",u.u.required)),this.fb.addControl("validade",new u.e("",u.u.required)),this.fb.addControl("justificativa",new u.e("",u.u.required))}set forms(e){e&&this._form!=e&&(this._form=e,this.isLive&&this.ngOnInit())}onMouseLeave(){}ngOnDestroy(){this.isLive=!1,this.fb=null,this._fb=null,this.alert.clearAll()}ngOnInit(){this.isLive=!0,this._form&&(this._paciente_medico={id:this._form.patient.id,enable:!1},this.medicamento_input={enable:!1,medicine:this._form.medicine,pharmaceutical_form:{dose:this._form.pharmaceutical_form.dose,unit:this._form.pharmaceutical_form.unit,presentation:this._form.pharmaceutical_form.presentation},dosage:{route:this._form.dosage.route,intervalo:this._form.dosage.intervalo,duracao:this._form.dosage.duracao},justification:this._form.justification,note:this._form.note,dilute:this._form.dilute},this._medicamento=this.medicamento_input)}set_medicamento(e){this._medicamento=e}back_stepper(){this.action.emit({back_stepper:!0})}next_stepper(){this.service.addDispensacoes({_form:this._form,dispensacao:this.fb.value,medicamento:this._medicamento,paciente_medico:this._paciente_medico}),this.router.navigate(["/"],{skipLocationChange:!1}),this.alert.showToaster("Dispensa\xe7\xe3o realizada com sucesso !")}}return e.\u0275fac=function(i){return new(i||e)(s.Nb(l.a),s.Nb(t.a),s.Nb(p.a),s.Nb(d.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["dispensacao-form"]],hostBindings:function(e,i){1&e&&s.ac("mouseleave",(function(){return i.onMouseLeave()}))},inputs:{forms:"forms"},outputs:{action:"action"},decls:7,vars:2,consts:[["class","form-margin",3,"formGroup",4,"ngIf"],["id","actions",2,"align-items","center","display","flex","flex-direction","row","flex-wrap","wrap","justify-content","center","margin-top","15px"],[2,"margin","0 auto"],["mat-button","","style","color: #1d9bbb","matTooltipPosition","above","matTooltip","Voltar",3,"click",4,"ngIf"],["mat-raised-button","","matTooltipPosition","above","matTooltip","Pr\xf3ximo",2,"color","#1dbb3f",3,"click"],[1,"form-margin",3,"formGroup"],[1,"division",2,"display","flex"],[1,"block","m10",2,"margin","auto"],[1,"division"],[3,"paciente"],[1,"raleway",2,"color","#0376bb"],[3,"medicamento"],[2,"margin-left","7px"],["mat-button","",2,"background-color","#03bb2b",3,"click"],["mat-button","",2,"margin-left","7px","background-color","#d84b4b",3,"click"],["hideRequiredMarker","false","floatLabel","always",1,"block","m4",2,"padding-right","7px"],["aria-label","Lote","matInput","","type","text","placeholder","Lote_xpto","formControlName","lote"],["align","end",4,"ngIf"],["hideRequiredMarker","false","floatLabel","always",1,"block","m4"],["aria-label","Validade","matInput","","type","text","placeholder","01/01/2031","formControlName","validade"],["class","division",4,"ngIf"],["align","end"],["hideRequiredMarker","false","floatLabel","always",1,"block","m12"],["aria-label","justificativa","matInput","","type","text","placeholder","justificativa  xpto","formControlName","justificativa"],[3,"action"],["mat-button","","matTooltipPosition","above","matTooltip","Voltar",2,"color","#1d9bbb",3,"click"]],template:function(e,i){1&e&&(s.Bc(0,R,32,7,"form",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Bc(3,I,5,0,"button",3),s.Tb(4,"button",4),s.ac("click",(function(){return i.next_stepper()})),s.Tb(5,"strong"),s.Cc(6,"Dispensar"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.jc("ngIf",i.fb),s.Bb(3),s.jc("ngIf",null!=i.fb))},directives:[f.k,h.a,v.a,u.v,u.o,u.i,g.a,_.a,T.d,T.h,S.b,u.c,u.n,u.g,T.c,m.a],styles:[""]}),e})();const x=[{path:"",component:(()=>{class e{constructor(e,i,a,t,o){this.alert=e,this.service=i,this.log=a,this.sheet=t,this.sheetService=o,this._form=null}ngOnDestroy(){this.isLive=null,this.values=null,this.settings=null,this._form=null}ngAfterViewInit(){this.isLive=!0,this.settings=Object(o.a)({show_action:{search:!0,edit:!1,remove:!1,radio:!1,name:"",consulta_label:"Consultar",consulta_placeholder:"Digite aqui algo relacionado ao Paciente"}});const e=[];this.service.prescriptions.forEach(i=>{e.push([{displayed:"ID",placeholder:"ID",favorite:"0",name:"id_prescription",value:i.id_prescription,validators:[],disabled:!0,hideRequired:!0},{displayed:"Id do paciente",placeholder:"Id do paciente",favorite:"1",name:"id_paciente",value:i.patient.id,validators:[],disabled:!0,hideRequired:!0},{displayed:"Nome do paciente",placeholder:"Nome do paciente",favorite:"2",name:"paciente",value:i.patient.nome,validators:[],disabled:!0,hideRequired:!0},{displayed:"Registro Hospitalar",placeholder:"Registro Hospitalar",favorite:"3",name:"reg_hosp",value:i.patient.reg_hosp,validators:[],disabled:!0,hideRequired:!0},{displayed:"Imagem do perfil",placeholder:"Imagem do perfil",favorite:null,name:"img",value:i.patient.img,validators:[],disabled:!0,hideRequired:!0},{displayed:"Genero",placeholder:"Genero",favorite:null,name:"genero",value:i.patient.genero,validators:[],disabled:!0,hideRequired:!0},{displayed:"Data de nascimento",placeholder:"Data de nascimento",favorite:null,name:"dt_nascimento",value:i.patient.dt_nascimento,validators:[],disabled:!0,hideRequired:!0},{displayed:"CPF",placeholder:"CPF",favorite:null,name:"cpf",value:i.patient.cpf,validators:[],disabled:!0,hideRequired:!0},{displayed:"Telefone",placeholder:"Telefone",favorite:null,name:"telefone",value:i.patient.telefone,validators:[],disabled:!0,hideRequired:!0},{displayed:"Endereco",placeholder:"Endereco",favorite:null,name:"endereco",value:i.patient.endereco,validators:[],disabled:!0,hideRequired:!0},{displayed:"Id do emitente",placeholder:"Id do emitente",favorite:null,name:"doctor_id",value:i.doctor.id,validators:[],disabled:!0,hideRequired:!0},{displayed:"Nome do emitente",placeholder:"Nome do emitente",favorite:"4",name:"doctor_name",value:i.doctor.nome,validators:[],disabled:!0,hideRequired:!0},{displayed:"Forma\xe7\xe3o do emitente",placeholder:"Forma\xe7\xe3o do emitente",favorite:null,name:"doctor_formacao",value:i.doctor.formacao,validators:[],disabled:!0,hideRequired:!0},{displayed:"Nascimento do emitente",placeholder:"Nascimento do emitente",favorite:null,name:"doctor_dt_nascimento",value:i.doctor.dt_nascimento,validators:[],disabled:!0,hideRequired:!0},{displayed:"Conselho do emitente",placeholder:"Conselho do emitente",favorite:null,name:"doctor_conselho",value:i.doctor.conselho,validators:[],disabled:!0,hideRequired:!0},{displayed:"Telefone do emitente",placeholder:"Telefone do emitente",favorite:null,name:"doctor_telefone",value:i.doctor.telefone,validators:[],disabled:!0,hideRequired:!0},{displayed:"Data e Hora",placeholder:"Data e Hora",favorite:"5",name:"time",value:`${i.hospital.data} - ${i.hospital.hora}`,validators:[],disabled:!0,hideRequired:!0},{displayed:"Hospital",placeholder:"Hospital",favorite:null,name:"nome_hospital",value:i.hospital.nome,validators:[],disabled:!0,hideRequired:!0},{displayed:"Medicamento",placeholder:"Medicamento",favorite:"6",name:"medicine",value:"Biologico "+i.medicine,validators:[],disabled:!0,hideRequired:!0},{displayed:"Forma farmaceutica",placeholder:"Forma farmaceutica",favorite:null,name:"pharmaceutical_form",value:`Dose: ${i.pharmaceutical_form.dose}, Unidade de medida: ${i.pharmaceutical_form.unit}, Apresenta\xe7\xe3o: ${i.pharmaceutical_form.presentation} `,validators:[],disabled:!0,hideRequired:!0},{displayed:"Posologia",placeholder:"Posologia",favorite:null,name:"dosage",value:`Via de administra\xe7\xe3o: ${i.dosage.route}, Intervalo: ${i.dosage.intervalo}, Dura\xe7\xe3o: ${i.dosage.duracao} `,validators:[],disabled:!0,hideRequired:!0},{displayed:"Diluir",placeholder:"Diluir",favorite:null,name:"dilute",value:i.dilute,validators:[],disabled:!0,hideRequired:!0}])}),this.values=Object(o.a)({push:e})}elementListEvent(e){e&&(e.view?this._form=this.service.prescriptions.find(i=>e.view.id_prescription==i.id_prescription):e.filteredData?(this.sheetService.setInfo({desc1:`"${e.filteredData}" n\xe3o foi encontrado !`,desc2:"Por favor verifique se a informa\xe7\xe3o esta correta ! "}),this.sheet.open(r.c)):e.error&&this.alert.showToaster(l.a.LISTA_DE_CODIGOS_E_STATUS._1_INFORMATIVA))}formEvent(e){e&&e.back_stepper&&(this._form=null)}}return e.\u0275fac=function(i){return new(i||e)(s.Nb(d.a),s.Nb(n.a),s.Nb(l.a),s.Nb(c.b),s.Nb(r.d))},e.\u0275cmp=s.Hb({type:e,selectors:[["ng-component"]],decls:11,vars:7,consts:[[2,"position","relative","min-height","420px"],[1,"division",2,"padding","5px 5px 0 10px","margin-left","10%","margin-right","10%","margin-top","7px"],[1,"hraleway",2,"color","#0376bb!important"],[2,"position","relative"],[2,"font-size","28px","color","#0376bb","position","absolute","left","-28px","padding-top","3px"],[1,"container-margin"],[1,"division",2,"padding-bottom","17px"],[3,"settings","values","action"],[3,"forms","action"]],template:function(e,i){1&e&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"h2",2),s.Tb(3,"span",3),s.Tb(4,"mat-icon",4),s.Cc(5," all_inbox "),s.Sb(),s.Sb(),s.Cc(6," Dispensa\xe7\xe3o "),s.Sb(),s.Sb(),s.Tb(7,"div",5),s.Tb(8,"div",6),s.Tb(9,"element-list",7),s.ac("action",(function(e){return i.elementListEvent(e)})),s.Sb(),s.Sb(),s.Tb(10,"dispensacao-form",8),s.ac("action",(function(e){return i.formEvent(e)})),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.Bb(8),s.Eb("hide",i._form),s.Bb(1),s.jc("settings",i.settings)("values",i.values),s.Bb(1),s.Eb("hide",!i._form),s.jc("forms",i._form))},directives:[m.a,b.a,k],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(i){return new(i||e)},imports:[[t.d.forChild(x)],t.d]}),e})();var j=a("/bhW"),N=a("XRci"),D=a("gqU8"),B=a("beWR"),M=a("ZwK7");let O=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(i){return new(i||e)},providers:[],imports:[[B.a,M.a,f.c,j.MaterialModule]]}),e})(),E=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(i){return new(i||e)},providers:[n.a,p.a],imports:[[B.a,O,N.a,D.a,j.MaterialModule,j.LayoutModule,f.c,L]]}),e})()}}]);